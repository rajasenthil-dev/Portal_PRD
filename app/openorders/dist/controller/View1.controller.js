sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox"],(e,t)=>{"use strict";return e.extend("openorders.controller.View1",{onInit(){var e=this.getOwnerComponent().getModel();const o=this.getView();const r=o.byId("bar0");o.setBusy(true);r.attachInitialized(function(){o.setBusy(false)});const s=this.getView().byId("table0");const i=s.getTable();this.bAuthorizationErrorShown=false;e.attachRequestFailed(function(e){var o=e.getParameters();if(o.response.statusCode==="403"){i.setNoData("No data available due to authorization restrictions");i.setBusy(false);if(!this.bAuthorizationErrorShown){this.bAuthorizationErrorShown=true;t.error("You do not have the required permissions to access this report.",{title:"Unauthorized Access",id:"messageBoxId1",details:"Permission is required to access this report. Please contact your administrator if you believe this is an error or require access.",contentWidth:"100px"})}}});var a=this.getOwnerComponent().getModel("logo");var n=a.bindList("/MediaFile");n.requestContexts().then(function(e){if(e.length>0){var t=e[0].getObject();console.log("Manufacturer:",t.MFGName);console.log("File URL:",t.url);var o=sap.ui.require.toUrl("openorders").split("/resources")[0];if(o==="."){o=""}console.log("âœ… Dynamic Base Path:",o);var r=o+t.url;this.getView().byId("logoImage").setSrc(r)}else{console.log("No media found for this manufacturer.")}}.bind(this));i.attachEvent("rowsUpdated",this._calculateTotals.bind(this))},_calculateTotals:function(e){var t=e.getSource();var o=t.getBinding("rows");var r=o.getContexts(0,o.getLength());if(o){var s=o.getLength();var i=0;var a=new Set;r.forEach(function(e){var t=e.getObject();i+=parseFloat(e.getProperty("KWMENG"))||0;a.add(t.MAKTX)});const e=a.size;this.byId("_IDGenNumericContent1").setText(s);this.byId("_IDGenNumericContent2").setText(e);this.byId("footerText1").setText(i)}}})});
//# sourceMappingURL=View1.controller.js.map