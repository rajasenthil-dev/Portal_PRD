<mvc:View controllerName="invbylot.controller.View1"
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns="sap.m" 
    xmlns:f="sap.f" 
    xmlns:core="sap.ui.core" 
    xmlns:l="sap.ui.layout" 
    xmlns:t="sap.ui.table"
    xmlns:sf="sap.ui.comp.smartfilterbar" 
    xmlns:st="sap.ui.comp.smarttable" 
    xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" 
    xmlns:my="invbylot.control" 
    displayBlock="true">
    <f:DynamicPage id="dynamicPage" showFooter="true">
        <f:header>
			<f:DynamicPageHeader id="_IDGenDynamicPageHeader1" class="noPadding">
                <FlexBox id="_IDGenFlexBox6" width="100%" direction="Row" wrap="Wrap" justifyContent="SpaceBetween" class="headerPadding  sapUiMediumMarginBottom borderBottom">
                    <HeaderContainer id="container1" scrollStep="200" height="100px">
                        <FlexBox id="_IDGenFlexBox7" alignItems="Center" height="100px">
                            <FlexBox id="_IDGenFlexBox8" alignItems="Center" height="75px" class="imgBG">
                                <Image id="_IDGenImage1" src="/img/logoipsum-325.svg" width="125px" decorative="false" press="onLogoPressed" tooltip="SAP Logo" >
                                    <layoutData>
                                        <OverflowToolbarLayoutData id="_IDGenOverflowToolbarLayoutData1" priority="NeverOverflow"/>
                                    </layoutData>
                                </Image>
                            </FlexBox>
                        </FlexBox>  
                    </HeaderContainer>
                    <HeaderContainer id="container2" scrollStep="200">
                        <GenericTile id="_IDGenGenericTile1" class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" header="{i18n>lastRefresh}" subheader="3/22/2024 6:30:57AM" frameType="OneByHalf">
                            <TileContent id="_IDGenTileContent1" class="refreshTitle" footer="Footer Text">
                                <Text id="_IDGenText1" class="refreshText" text="3/22/2024 6:30:57AM"/>
                            </TileContent>
                        </GenericTile>
                    </HeaderContainer>
                </FlexBox>
				<sf:SmartFilterBar id="bar0" entitySet="INVENTORYBYLOT" useDateRangeType="true" persistencyKey="SmartFilterBar_INVENTORYBYLOT" smartVariant="pageVariant" liveMode="true" search="onSearch">
                    <sf:controlConfiguration>
                        
                    </sf:controlConfiguration>
                </sf:SmartFilterBar>
                <Panel id="_IDGenPanel1" expandable="true" expanded="true" headerText="{i18n>panelHeader}">

				     <HeaderContainer id="container4" scrollStep="200" orientation="Horizontal" gridLayout="true" class="mck_HeaderContainer">
                    
                        <FlexBox id="_IDGenFlexBox1" direction="Column" class="mck_Tile">
                            <Title id="_IDGenTitle1" class="mck_TileContentTitle" text="{i18n>tileTitle1}"/>
                            <Text id="_IDGenNumericContent1" class="mck_TileContent" text="{path: 'summaryCounts>/counts/OpenStock', formatter: '._formatNumber'}"/>
                        </FlexBox>
                        <FlexBox id="_IDGenFlexBox2" direction="Column" class="mck_Tile">                            
                            <Title id="_IDGenTitle2" class="mck_TileContentTitle" text="{i18n>tileTitle2}"/>
                            <Text id="_IDGenNumericContent2" class="mck_TileContent" text="{path: 'summaryCounts>/counts/Quarantine', formatter: '._formatNumber'}"/>
                        </FlexBox> 
                        <FlexBox id="_IDGenFlexBox3" direction="Column" class="mck_Tile">
                            <Title id="_IDGenTitle3" class="mck_TileContentTitle" text="{i18n>tileTitle3}"/>
                            <Text id="_IDGenNumericContent3" class="mck_TileContent" text="{path: 'summaryCounts>/counts/Damage', formatter: '._formatNumber'}"/>
                        </FlexBox>  
                         <FlexBox id="_IDGenFlexBox4" direction="Column" class="mck_Tile">
                            <Title id="_IDGenTitle4" class="mck_TileContentTitle" text="{i18n>tileTitle4}"/>
                            <Text id="_IDGenNumericContent4" class="mck_TileContent" text="{path: 'summaryCounts>/counts/Retains', formatter: '._formatNumber'}"/>
                        </FlexBox> 
                        <FlexBox id="_IDGenFlexBox5" direction="Column" class="mck_Tile">
                            <Title id="_IDGenTitle5" class="mck_TileContentTitle" text="{i18n>tileTitle5}"/>
                            <Text id="_IDGenNumericContent5" class="mck_TileContent" text="{path: 'summaryCounts>/counts/QualityHold', formatter: '._formatNumber'}"/>
                        </FlexBox> 
                         <FlexBox id="IDGenFlexBox6" direction="Column" class="mck_Tile">
                            <Title id="_IDGenTitle6" class="mck_TileContentTitle" text="{i18n>tileTitle6}"/>
                            <Text id="_IDGenNumericContent6" class="mck_TileContent" text="{path: 'summaryCounts>/counts/Returns', formatter: '._formatNumber'}"/>
                        </FlexBox> 
                        <FlexBox id="IDGenFlexBox7" direction="Column" class="mck_Tile">
                            <Title id="_IDGenTitle7" class="mck_TileContentTitle" text="{i18n>tileTitle7}"/>
                            <Text id="_IDGenNumericContent7" class="mck_TileContent" text="{path: 'summaryCounts>/counts/Recalls', formatter: '._formatNumber'}"/>
                        </FlexBox>
                        <FlexBox id="IDGenFlexBox8" direction="Column" class="mck_Tile">
                            <FlexBox id="_IDGenFlexBox12" direction="Row">
                                <ObjectStatus id="_IDGenObjectStatus" class="legendText" state="Success" text="{i18n>legend1}" />
                            </FlexBox>
                            <FlexBox id="_IDGenFlexBox13" direction="Row">
                                <ObjectStatus id="_IDGenObjectStatus1" class="legendText" state="Warning" text="{i18n>legend2}" />
                            </FlexBox>
                            <FlexBox id="_IDGenFlexBox14" direction="Row">
                                <ObjectStatus id="_IDGenObjectStatus2" class="legendText" state="Error" text="{i18n>legend3}" />
                            </FlexBox>

                        </FlexBox>
				    </HeaderContainer>
                </Panel>
			</f:DynamicPageHeader>
		</f:header>
        <f:content>
            
            <st:SmartTable 
                xmlns:cd="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" 
                width="100%" 
                direction="Column" 
                fitContainer="true" 
                tableType="Table" 
                header="{i18n>tableTitle}" 
                enableAutoBinding="true" 
                id="table0" 
                smartFilterId="bar0" 
                initiallyVisibleFields="SKU,PRODUCT_CODE,PRODUCT_DESCRIPTION,SIZE,LOT,EXPIRY_DATE,QTY_ON_HAND,DAYS_UNTIL_EXPIRY,UPC,CO,MANUFACTURER, WAREHOUSE" 
                cd:w5g.dt.context="/INVETORYBYLOT" 
                entitySet="INVENTORYBYLOT" 
                placeToolbarInTable="true" 
                useExportToExcel="true" 
                beforeExport="onBeforeExport" 
                useVariantManagement="true" 
                useTablePersonalisation="true" 
                showRowCount="true" 
                persistencyKey="SmartTableAnalytical_Explored" 
                demandPopin="true" 
                enableAutoColumnWidth="true" 
                class="sapUiResponsiveContentPadding"
            >
                <t:Table 
                    id="table" 
                    selectionMode="None"
                    alternateRowColors="true">
                     <t:rowSettingsTemplate>
					    <t:RowSettings id="_IDGenRowSettings" highlight="{path:'DAYS_UNTIL_EXPIRY', formatter:'._formatRowHighlight'}" highlightText="{DAYS_UNTIL_EXPIRY}"/>
				    </t:rowSettingsTemplate>
                    <t:columns>
                        <t:Column id="_IDGenColumn3" width='7.813rem'>
                            <t:customData>
                                <core:CustomData key="p13nData" value='\{"columnKey": "DAYS_UNTIL_EXPIRY", "leadingProperty": "DAYS_UNTIL_EXPIRY", "columnIndex": 5}'/>
                            </t:customData>
                            <Text id="_IDGenText2" text="{i18n>daysUntilExpiry}"></Text>
                            <t:template>
                                <my:SegmentedProgressBar id="_IDGenSegmentedProgressBar" value="{DAYS_UNTIL_EXPIRY}"/>
                            </t:template>
                        </t:Column>
                        <t:Column id="_IDGenColumn1" width='7.813rem'>
                            <t:customData>
                                <core:CustomData key="p13nData" value='\{"columnKey": "EXPIRY_DATE_VFDAT", "leadingProperty": "EXPIRY_DATE_VFDAT", "columnIndex": 4}'/>
                            </t:customData>
                            <Text id="_IDGenText4" text="Expiry Date"></Text>
                            <t:template>
                                <Text id="exipryDate" text="{path: 'EXPIRY_DATE_VFDAT', formatter: '._formatDate'}" />
                            </t:template>
                        </t:Column>
                    </t:columns> 
                </t:Table>
            </st:SmartTable>
        </f:content>
		  <f:footer>
            <OverflowToolbar id="_IDGenOverflowToolbar1" class="footer">
                

                <!--Added by Bryan Cash in order to make the footer fully responsive for mobile devices    -->               
                <FlexBox id="_IDGenFlexBox9" width="100%" justifyContent="SpaceBetween" wrap="Wrap">
                    <FlexBox id="_IDGenFlexBox10">
                        <ObjectIdentifier id="_IDGenObjectIdentifier1"
                            title="{i18n>totals}"
                            class="footerTitle"/>
                    </FlexBox>
                    <FlexBox id="_IDGenFlexBox11" >
                        <HBox id="_IDGenHBox2" class="sapUiSmallMarginEnd">
                            <Label id="_IDGenLabel2" text="{i18n>footerLabel1}:" class="cssLabelTotal"/>
                            <Text id="footerText1" class="footerText" text =""/>
                        </HBox>
                        <HBox id="_IDGenHBox3" class="sapUiSmallMarginEnd">
                                <Label id="_IDGenLabel3" text="{i18n>footerLabel2}:" class="cssLabelTotal"/>
                            <Text id="footerText2" class="footerText" text =""/>
                        </HBox>	
                    </FlexBox>
                </FlexBox>
			</OverflowToolbar>
        </f:footer>
      
		</f:DynamicPage>
</mvc:View>