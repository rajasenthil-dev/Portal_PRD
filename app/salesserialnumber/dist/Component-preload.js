//@ui5-bundle salesserialnumber/Component-preload.js
sap.ui.predefine("salesserialnumber/Component", ["sap/ui/core/UIComponent","salesserialnumber/model/models"],(e,t)=>{"use strict";return e.extend("salesserialnumber.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init(){e.prototype.init.apply(this,arguments);this.setModel(t.createDeviceModel(),"device");this.getRouter().initialize()}})});
sap.ui.predefine("salesserialnumber/controller/App.controller", ["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("salesserialnumber.controller.App",{onInit(){}})});
sap.ui.predefine("salesserialnumber/controller/View1.controller", ["sap/ui/core/mvc/Controller","sap/m/Dialog","sap/m/Button","sap/m/Image","sap/m/MessageBox","sap/ui/core/BusyIndicator"],(e,t,r,o,n,s)=>{"use strict";return e.extend("salesserialnumber.controller.View1",{onInit:function(){const e=this.getOwnerComponent().getRouter();e.getRoute("RouteView1").attachPatternMatched(this._onPatternMatched,this);const t=this.getOwnerComponent().getModel();const r=this.getView();const o=r.byId("bar0");var s=new sap.ui.model.json.JSONModel;this.getView().setModel(s,"userPermissions");var i=this.getOwnerComponent().getModel();r.setBusy(true);var a=this.getOwnerComponent().getModel("i18n").getResourceBundle();const u=this.getView().byId("table0");const c=u.getTable();this.bAuthorizationErrorShown=false;t.attachRequestFailed(function(e){var t=e.getParameters();if(t.response.statusCode==="403"){c.setNoData("No data available due to authorization restrictions");c.setBusy(false);if(!this.bAuthorizationErrorShown){this.bAuthorizationErrorShown=true;n.error("You do not have the required permissions to access this report.",{title:"Unauthorized Access",id:"messageBoxId1",details:"Permission is required to access this report. Please contact your administrator if you believe this is an error or require access.",contentWidth:"100px"})}}})},_refreshUserModel:async function(){const e=this.getOwnerComponent().getModel("userModel");var t=sap.ui.require.toUrl("salesserialnumber").split("/resources")[0];if(t==="."){t=""}const r=t+"/user-api/attributes";try{const t=await fetch(r);const o=await t.json();e.setData(o);console.log("✅ User model refreshed:",o)}catch(e){console.error("❌ Failed to fetch user info",e)}},_fetchAndSetLogo:function(){const e=this.getView();const t=this.getOwnerComponent().getModel("userModel");const r=t?t.getData():{};const o=r.ManufacturerNumber;const n=e.byId("logoImage");var s=sap.ui.require.toUrl("salesserialnumber").split("/resources")[0];if(s==="."){s=""}const i=s+"/images/MCKCAN1.jpg";if(!o){console.warn("No ManufacturerNumber in user model. Showing fallback logo.");n.setSrc(i);return}const a=this.getOwnerComponent().getModel("logo");const u=new sap.ui.model.Filter("manufacturerNumber","EQ",o);const c=a.bindList("/MediaFile",undefined,undefined,[u]);c.requestContexts().then(function(e){if(e&&e.length>0){const t=e[0].getObject();const r=t.url.replace(/^.*(?=\/odata\/v4\/media)/,"");const o=s+r;n.setSrc(o)}else{console.warn("No matching logo found. Fallback image used.");n.setSrc(i)}}.bind(this)).catch(function(e){console.error("Binding error:",e);n.setSrc(i)}.bind(this))},_onPatternMatched:async function(){await this._refreshUserModel();console.log("RouteView1 pattern matched – fetching logo...");this._fetchAndSetLogo()},_formatRowHighlight:function(e){if(e==="NO"){return"Information"}return"Success"},formatDate:function(e){if(!e)return"";return e.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3")},_formatDate:function(e){if(!e)return"";let t;if(typeof e==="string"){if(e.length===8){const r=e.slice(0,4)+"-"+e.slice(4,6)+"-"+e.slice(6,8);t=new Date(r+"T00:00:00Z")}else{return""}}else if(e instanceof Date){t=new Date(e.getTime())}else{return""}if(isNaN(t.getTime())){return""}t.setMinutes(t.getMinutes()+t.getTimezoneOffset());const r=sap.ui.core.format.DateFormat.getDateInstance({style:"medium"});return r.format(t)},formatLargeNumber:function(e){if(!e||isNaN(e))return"0";const t=Math.abs(e);if(t>=1e9){return(e/1e9).toFixed(2)+"B"}else if(t>=1e6){return(e/1e6).toFixed(2)+"M"}else if(t>=1e3){return(e/1e3).toFixed(2)+"K"}return e.toFixed(2)},formatNumberWithCommas:function(e){if(!e||isNaN(e))return"0";return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},formatCurrency:function(e){if(e===null||e===undefined||e===""){return"--"}const t=parseFloat(e);if(isNaN(t)){return"--"}return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},_formatCurrency:function(e){if(e==null||e===undefined){return"--"}var t=sap.ui.getCore().getConfiguration().getLocale().getLanguage();var r;switch(t){case"en-US":r="USD";break;case"en-CA":r="CAD";break;case"fr-CA":r="CAD";break;default:r="USD";break}var o=sap.ui.core.format.NumberFormat.getCurrencyInstance({currencyCode:false,customCurrencies:{MyDollar:{isoCode:r,decimals:2}},groupingEnabled:true,showMeasure:true});return o.format(e,"MyDollar")}})});
sap.ui.predefine("salesserialnumber/model/formatter", [],()=>{"use strict";return{removeLeadingZeros:function(e){if(typeof e==="string"&&/^\d+$/.test(e)){return String(Number(e))}return e},formatDate:function(e){if(!e)return"";return e.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3")},_formatDate:function(e){if(!e)return"";let t;if(typeof e==="string"){if(e.length===8){const r=e.slice(0,4)+"-"+e.slice(4,6)+"-"+e.slice(6,8);t=new Date(r+"T00:00:00Z")}else{return""}}else if(e instanceof Date){t=new Date(e.getTime())}else{return""}if(isNaN(t.getTime())){return""}t.setMinutes(t.getMinutes()+t.getTimezoneOffset());const r=sap.ui.core.format.DateFormat.getDateInstance({style:"medium"});return r.format(t)},yesNoIconColor:function(e){const t=(e||"").trim().toUpperCase();if(t.includes("Y")){return"Success"}if(t.includes("N")){return"Information"}return"None"},yesNoIcon:function(e){const t=(e||"").trim().toUpperCase();if(t.includes("Y")){return"sap-icon://circle-task-2"}if(t.includes("N")){return"sap-icon://circle-task-2"}return""},_formatCurrency:function(e,t){if(e===null||e===undefined){return"--"}const r=sap.ui.core.format.NumberFormat.getFloatInstance({groupingEnabled:true,groupingSeparator:",",decimalSeparator:".",minFractionDigits:2,maxFractionDigits:2});let n="$"+r.format(e);if(t){n+=" "+t}return n}}});
sap.ui.predefine("salesserialnumber/model/models", ["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
sap.ui.require.preload({
	"salesserialnumber/i18n/i18n.properties":'# This is the resource bundle for salesserialnumber\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Sales By Customer Serial Number\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Main view title\ntitle=Sales By Customer Serial Number\n\n#XFLD,46.5\nserialnumber-display.flpTitle=Sales By Customer Serial Number\n',
	"salesserialnumber/manifest.json":'{"_version":"1.76.0","sap.app":{"id":"salesserialnumber","type":"application","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":[""]},"applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.19.1","toolsId":"f7f91d72-3978-40ee-8949-d0d59d4be60d"},"dataSources":{"mainService":{"uri":"/odata/v2/sales/","type":"OData","settings":{"annotations":[],"odataVersion":"2.0"}},"logoService":{"uri":"/odata/v4/media/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}},"UserApi":{"uri":"/user-api/attributes","type":"JSON","settings":{"useBatch":false,"json":true}}},"crossNavigation":{"inbounds":{"serialnumber-display":{"semanticObject":"serialnumber","action":"display","title":"{{serialnumber-display.flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.141.1","libs":{"sap.m":{},"sap.ui.core":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"salesserialnumber.i18n.i18n","supportedLocales":["en","fr"],"fallbackLocale":"en"}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"logo":{"type":"sap.ui.model.odata.v4.ODataModel","dataSource":"logoService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"userModel":{"dataSource":"UserApi","settings":{}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","controlAggregation":"pages","controlId":"app","transition":"slide","type":"View","viewType":"XML","path":"salesserialnumber.view","async":true,"viewPath":"salesserialnumber.view"},"routes":[{"name":"RouteView1","pattern":":?query:","target":["TargetView1"]}],"targets":{"TargetView1":{"id":"View1","name":"View1"}}},"rootView":{"viewName":"salesserialnumber.view.App","type":"XML","id":"App","async":true}},"sap.cloud":{"public":true,"service":"mck.portal"}}',
	"salesserialnumber/view/App.view.xml":'<mvc:View controllerName="salesserialnumber.controller.App"\n    displayBlock="true"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><App id="app"></App></mvc:View>',
	"salesserialnumber/view/View1.view.xml":'<mvc:View controllerName="salesserialnumber.controller.View1"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:f="sap.f"\n    xmlns:core="sap.ui.core"\n    xmlns:l="sap.ui.layout"\n    xmlns:t="sap.ui.table"\n    xmlns:sf="sap.ui.comp.smartfilterbar"\n    xmlns:st="sap.ui.comp.smarttable"\n    xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n    displayBlock="true"\n    core:require="{CurrencyType: \'sap/ui/model/type/Currency\'}"\n    ><f:DynamicPage id="dynamicPage" showFooter="true"><f:header><f:DynamicPageHeader id="_IDGenDynamicPageHeader1" class="noPadding"><FlexBox id="_IDGenFlexBox6" width="100%" direction="Row" wrap="Wrap" justifyContent="SpaceBetween" class="headerPadding sapUiMediumMarginBottom borderBottom"><HeaderContainer id="container1" scrollStep="200" height="100px"><FlexBox id="_IDGenFlexBox7" alignItems="Center" height="100px"><FlexBox id="_IDGenFlexBox8" alignItems="Center" height="75px" class="imgBG"><Image id="logoImage" src="/img/logoipsum-325.svg" width="125px" decorative="false" press="onLogoPressed" tooltip="SAP Logo" ><layoutData><OverflowToolbarLayoutData id="_IDGenOverflowToolbarLayoutData1" priority="NeverOverflow"/></layoutData></Image></FlexBox></FlexBox></HeaderContainer></FlexBox></f:DynamicPageHeader></f:header><f:content><st:SmartTable\n                    xmlns:cd="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" \n                    width="100%" \n                    direction="Column" \n                    fitContainer="true" \n                    tableType="Table" \n                    header="{i18n>tableTitle}" \n                    enableAutoBinding="true" \n                    id="table0" \n                    smartFilterId="bar0"\n                    cd:w5g.dt.context="/SALESSERIALNUMBER" \n                    entitySet="SALESSERIALNUMBER" \n                    placeToolbarInTable="true" \n                    useExportToExcel="true" \n                    beforeExport="onBeforeExport" \n                    useVariantManagement="true" \n                    useTablePersonalisation="true" \n                    customData:p13nDialogSettings=\'{filter:{visible:false}}\'\n                    showRowCount="true" \n                    persistencyKey="SmartTableAnalytical_Explored"\n                    enableAutoColumnWidth="true" \n                    class="sapUiResponsiveContentPadding"\n                ></st:SmartTable></f:content></f:DynamicPage></mvc:View>'
});
//# sourceMappingURL=Component-preload.js.map
