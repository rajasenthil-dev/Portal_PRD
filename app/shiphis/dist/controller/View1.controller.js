sap.ui.define(["sap/ui/core/mvc/Controller"],t=>{"use strict";return t.extend("shiphis.controller.View1",{onInit:function(){var t=this.byId("table0");var e=t.getTable();e.attachEvent("rowsUpdated",this._calculateTotals.bind(this));var r=e.getBinding("rows");if(r){r.attachEventOnce("dataReceived",function(){this._calculateInitialTotals(r)}.bind(this))}},_calculateInitialTotals:function(t){debugger;if(t){var e=t.getModel();var r=t.getPath();var n=e.getProperty(r)||[];this._updateTotals(n)}},_calculateTotals:function(){debugger;var t=this.byId("table0").getTable();var e=t.getBinding("rows");var r=0;r=e.getCount();if(e){var n=e.getContexts(0,r);var a=n.map(function(t){return t.getObject()});var i=r.toString();this.byId("_IDGenNumericContent2").setText(i);this._updateTotals(a)}},_updateTotals:function(t){var e=this.byId("table0").getTable();var r=e.getBinding("rows");debugger;if(t.length>0){var n=0;var a=0;var i=new Set;t.forEach(function(t){var e=t["VBELN"];var r=parseFloat(t["FKIMG"])||0;if(e){i.add(e)}a+=r});n=i.size;var s=n.toString();var o=a.toFixed(2);this.byId("_IDGenNumericContent1").setText(s);this.byId("_IDGenNumericContent3").setText(o)}else{this.byId("_IDGenNumericContent1").setText("0");this.byId("_IDGenNumericContent3").setText("0.00")}},_formatCurrency:function(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},_formatDate:function(t){if(!t)return"";let e;if(typeof t==="string"){if(t.length===8){const r=t.slice(0,4)+"-"+t.slice(4,6)+"-"+t.slice(6,8);e=new Date(r+"T00:00:00Z")}else{return""}}else if(t instanceof Date){e=new Date(t.getTime())}else{return""}if(isNaN(e.getTime())){return""}e.setMinutes(e.getMinutes()+e.getTimezoneOffset());const r=sap.ui.core.format.DateFormat.getDateInstance({style:"medium"});return r.format(e)},_formatTime:function(t,e){if(!t){return""}var r=parseInt(t.substr(0,2),10);var n=parseInt(t.substr(2,2),10);var a=parseInt(t.substr(4,2),10);var i=r>12?"PM":"AM";r=r%12||12;var s=r+":"+String(n).padStart(2,"0")+":"+String(a).padStart(2,"0")+" "+i;return s},_removeLeadingZeros:function(t){return t?String(parseInt(t,10)):t}})});
//# sourceMappingURL=View1.controller.js.map