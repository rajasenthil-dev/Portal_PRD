sap.ui.define(["sap/ui/core/mvc/Controller"],t=>{"use strict";return t.extend("cashjour.controller.View1",{onInit:function(){var t=this.byId("table0");var e=t.getTable();this._debouncedCalculateTotals=this._debounce(this._calculateTotals.bind(this),300);e.attachEvent("rowsUpdated",this._debouncedCalculateTotals)},_calculateTotals:function(t){var e=t.getSource();var r=e.getBinding("rows");if(r){var n=r.getContexts();var a=0;var i=0;var o=0;n.forEach(function(t){a+=parseFloat(t.getProperty("NETWR"))||0;i+=parseFloat(t.getProperty("CAL_CASH_RECEIVED"))||0;o+=parseFloat(t.getProperty("CAL_DISCOUNT"))||0});var s=this._formatCurrency(a);var c=this._formatCurrency(i);var u=this._formatCurrency(o);this.byId("TotUnitsPriceText").setText(s);this.byId("TotUnitsInStockText").setText(c);this.byId("TotUnitsOnOrderText").setText(u)}},_debounce:function(t,e){let r;return function(...n){const a=this;clearTimeout(r);r=setTimeout(()=>t.apply(a,n),e)}},_formatCurrency:function(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},_formatDate:function(t){if(!t)return"";let e;if(typeof t==="string"){if(t.length===8){const r=t.slice(0,4)+"-"+t.slice(4,6)+"-"+t.slice(6,8);e=new Date(r+"T00:00:00Z")}else{return""}}else if(t instanceof Date){e=new Date(t.getTime())}else{return""}if(isNaN(e.getTime())){return""}e.setMinutes(e.getMinutes()+e.getTimezoneOffset());const r=sap.ui.core.format.DateFormat.getDateInstance({style:"medium"});return r.format(e)}})});
//# sourceMappingURL=View1.controller.js.map