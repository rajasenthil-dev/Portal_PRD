sap.ui.define(["sap/ui/core/mvc/Controller"],t=>{"use strict";return t.extend("invstatus.controller.View1",{onInit(){var t=this.getView().byId("table0");var e=t.getTable();e.attachEvent("rowsUpdated",this.calculateTotals.bind(this))},onGetManufacturerMedia:function(t){var e=this.getView().getModel("logo");var r=e.bindList("/MediaFile",undefined,undefined);r.requestContexts().then(function(t){if(t.length>0){var e=t[0].getObject();console.log("Manufacturer:",e.MFGName);console.log("File URL:",e.url);var r=sap.ui.require.toUrl("invstatus").split("/resources")[0];if(r==="."){r=""}console.log("âœ… Dynamic Base Path:",r);var a=r+e.url;this.getView().byId("logoImage").setSrc(a)}else{console.log("No media found for this manufacturer.")}}.bind(this))},calculateTotals:function(){this.onGetManufacturerMedia();var t=this.getView().byId("table0");var e=t.getTable();var r=e.getBinding("rows");var a=r.getContexts(0,r.getLength());var o=0;var i=0;var s=0;var n=0;var l=0;var u=0;var f=0;a.forEach(function(t){o+=parseFloat(t.getProperty("OPEN_STOCK"))||0;i+=parseFloat(t.getProperty("QUARANTINE"))||0;s+=parseFloat(t.getProperty("DAMAGE_DESTRUCTION"))||0;l+=parseFloat(t.getProperty("RETAINS"))||0;u+=parseFloat(t.getProperty("RETURNS_CAL"))||0;f+=parseFloat(t.getProperty("RECALLS"))||0});var c=this._formatNumber(o);var g=this._formatNumber(i);var v=this._formatNumber(s);var d=this._formatNumber(l);var h=this._formatNumber(u);var m=this._formatNumber(f);this.byId("footerText1").setText(c);this.byId("footerText2").setText(g);this.byId("footerText3").setText(v);this.byId("footerText4").setText(d);this.byId("footerText6").setText(h);this.byId("footerText7").setText(m)},_formatNumber:function(t){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(t)}})});
//# sourceMappingURL=View1.controller.js.map