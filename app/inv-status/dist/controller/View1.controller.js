sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox"],(t,e)=>{"use strict";return t.extend("invstatus.controller.View1",{onInit(){var t=this.getOwnerComponent().getModel("logo");var r=t.bindList("/MediaFile",undefined,undefined);r.requestContexts().then(function(t){if(t.length>0){var e=t[0].getObject();console.log("Manufacturer:",e.MFGName);console.log("File URL:",e.url);var r=sap.ui.require.toUrl("invstatus").split("/resources")[0];if(r==="."){r=""}console.log("âœ… Dynamic Base Path:",r);var o=r+e.url;this.getView().byId("logoImage").setSrc(o)}else{console.log("No media found for this manufacturer.")}}.bind(this));var o=this.getOwnerComponent().getModel();const a=this.getView().byId("table0");const s=a.getTable();this.bAuthorizationErrorShown=false;o.attachRequestFailed(function(t){var r=t.getParameters();if(r.response.statusCode==="403"){s.setNoData("No data available due to authorization restrictions");s.setBusy(false);if(!this.bAuthorizationErrorShown){this.bAuthorizationErrorShown=true;e.error("You do not have the required permissions to access this report.",{title:"Unauthorized Access",id:"messageBoxId1",details:"Permission is required to access this report. Please contact your administrator if you believe this is an error or require access.",contentWidth:"100px"})}}});s.attachEvent("rowsUpdated",this.calculateTotals.bind(this))},calculateTotals:function(){var t=this.getView().byId("table0");var e=t.getTable();var r=e.getBinding("rows");var o=r.getContexts(0,r.getLength());var a=0;var s=0;var i=0;var n=0;var u=0;var l=0;var h=0;var d=0;var f=0;var m=0;o.forEach(function(t){a+=parseFloat(t.getProperty("OPEN_STOCK"))||0;s+=parseFloat(t.getProperty("QUARANTINE"))||0;i+=parseFloat(t.getProperty("RETAINS"))||0;n+=parseFloat(t.getProperty("QUALITY_HOLD"))||0;u+=parseFloat(t.getProperty("RETURNS_CAL"))||0;l+=parseFloat(t.getProperty("RECALLS"))||0;h+=parseFloat(t.getProperty("INVENTORY_HOLD"))||0;d+=parseFloat(t.getProperty("RELABEL_QTY"))||0;f+=parseFloat(t.getProperty("DAMAGE_DESTRUCTION"))||0;m+=parseFloat(t.getProperty("SAMPLE_QTY"))||0});var c=this._formatNumber(a);var b=this._formatNumber(s);var v=this._formatNumber(i);var g=this._formatNumber(n);var T=this._formatNumber(u);var p=this._formatNumber(l);var x=this._formatNumber(h);var y=this._formatNumber(d);var N=this._formatNumber(f);var I=this._formatNumber(m);this.byId("footerText1").setText(c);this.byId("footerText2").setText(b);this.byId("footerText3").setText(v);this.byId("footerText4").setText(g);this.byId("footerText5").setText(T);this.byId("footerText6").setText(p);this.byId("footerText7").setText(x);this.byId("footerText8").setText(y);this.byId("footerText9").setText(N);this.byId("footerText10").setText(I)},_formatNumber:function(t){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(t)}})});
//# sourceMappingURL=View1.controller.js.map