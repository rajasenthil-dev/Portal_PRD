sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox"],(e,o)=>{"use strict";return e.extend("pricelist.controller.View1",{onInit:async function(){const e=this.getView();const o=this.getOwnerComponent().getModel("userModel");const t=o?o.getData():{};const n=t.ManufacturerNumber;const s=this.getOwnerComponent().getModel("logo");const r=sap.ui.require.toUrl("invoicehis").split("/resources")[0]==="."?"":sap.ui.require.toUrl("invoicehis").split("/resources")[0];const i=r+"/images/MCKCAN1.jpg";if(!n){console.warn("No ManufacturerNumber in user model. Showing fallback logo.");e.byId("logoImage").setSrc(i);return}const c=new sap.ui.model.Filter("manufacturerNumber","EQ",n);const a=s.bindList("/MediaFile",undefined,undefined,[c]);a.requestContexts().then(function(o){if(o&&o.length>0){const t=o[0].getObject();const n=t.url.replace(/^.*(?=\/odata\/v4\/media)/,"");const s=r+n;e.byId("logoImage").setSrc(s)}else{console.warn("No matching logo found. Fallback image used.");e.byId("logoImage").setSrc(i)}}.bind(this)).catch(function(o){console.error("Binding error:",o);e.byId("logoImage").setSrc(i)}.bind(this))}})});
//# sourceMappingURL=View1.controller.js.map